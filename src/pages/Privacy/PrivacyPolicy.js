import React, { useState, useEffect, useMemo } from 'react';
import { 
  ShieldCheck, 
  Info, 
  BookOpen, 
  Target, 
  Database, 
  Settings, 
  Share2, 
  Clock, 
  Lock, 
  AlertTriangle, 
  UserCheck, 
  FileText, 
  Mail, 
  RefreshCw, 
  UserPlus, 
  Phone,
  ChevronLeft,
  ChevronRight,
  Menu,
  X,
  ArrowUp,
  Search
} from 'lucide-react';
import { motion, AnimatePresence } from 'framer-motion';

const PrivacyPolicy = () => {
  const [activeSection, setActiveSection] = useState(1);
  const [isSidebarOpen, setIsSidebarOpen] = useState(false);
  const [showScrollTop, setShowScrollTop] = useState(false);
  const [searchQuery, setSearchQuery] = useState("");

  // مراقبة التمرير لإظهار زر العودة للأعلى
  useEffect(() => {
    const handleScroll = () => {
      setShowScrollTop(window.scrollY > 400);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const sections = [
    { id: 1, title: "المقدمة", icon: <Info className="w-5 h-5" /> },
    { id: 2, title: "التعريفات", icon: <BookOpen className="w-5 h-5" /> },
    { id: 3, title: "نطاق سياسة الخصوصية", icon: <Target className="w-5 h-5" /> },
    { id: 4, title: "جمع المعلومات الشخصية", icon: <Database className="w-5 h-5" /> },
    { id: 5, title: "أغراض استخدام المعلومات", icon: <Settings className="w-5 h-5" /> },
    { id: 6, title: "الإفصاح ومشاركة المعلومات", icon: <Share2 className="w-5 h-5" /> },
    { id: 7, title: "الاحتفاظ بالمعلومات الشخصية", icon: <Clock className="w-5 h-5" /> },
    { id: 8, title: "حماية المعلومات الشخصية", icon: <Lock className="w-5 h-5" /> },
    { id: 9, title: "تحديد المسؤولية", icon: <AlertTriangle className="w-5 h-5" /> },
    { id: 10, title: "حقوقك في الخصوصية", icon: <ShieldCheck className="w-5 h-5" /> },
    { id: 11, title: "مسؤولية المُستخدِم", icon: <UserCheck className="w-5 h-5" /> },
    { id: 12, title: "ملفات تعريف الارتباط", icon: <FileText className="w-5 h-5" /> },
    { id: 13, title: "الرسائل التسويقية", icon: <Mail className="w-5 h-5" /> },
    { id: 14, title: "التحديثات على السياسة", icon: <RefreshCw className="w-5 h-5" /> },
    { id: 15, title: "الموافقة على السياسة", icon: <UserPlus className="w-5 h-5" /> },
    { id: 16, title: "التواصل معنا", icon: <Phone className="w-5 h-5" /> },
  ];

  const sectionContent = {
    1: `1.1. تُعد سياسة الخصوصيّة هذه ("السياسة") جزءًا لا يتجزأ من الشروط والأحكام الخاصة بمنصة "شاهين بلس" وتخضع لها.
1.2. تُشكل هذه السياسة اتفاقًا قانونيًا ملزمًا بينك كمُستخدِم وبين مؤسسة شاهين بلس للتسويق الإلكتروني، وهي شركة مسجلة وقائمة في المملكة العربية السعودية، ومقيدة في السجل التجاري تحت رقم (4032280152)، بصفتها المالك والمُشغّل لمنصة "شاهين بلس". لذا يجب عليك قراءة جميع بنود هذه السياسة بعنايةٍ تامةٍ قبل استخدام المنصة.
1.3. باستخدامك لمنصة "شاهين بلس"، فإنك تقر وتوافق صراحةً على جمع واستخدام ومعالجة والإفصاح عن بياناتك الشخصية في حدود الأغراض النظامية والتشغيلية للمنصة، ووفقًا لأحكام هذه السياسة.
1.4. تحتفظ المنصة بالحق في تعديل أو تحديث هذه السياسة من وقت لآخر، متى ما اقتضت الحاجة النظامية أو التشغيلية، وتسري هذه التعديلات والتحديثات فور نشر سياسة الخصوصية المعدّلة على هذه الصفحة. وبناءً عليه، نشجعك على مراجعة هذه السياسة بشكل دوري للاطلاع على كيفية جمع بياناتك الشخصية واستخدامها من قبل منصة "شاهين بلس"، وكذلك حقوقك المقررة بموجب قانون حماية البيانات الشخصية المعمول به، وسيظهر تاريخ النسخة الأحدث في عنوان "تاريخ السريان".`,

    2: `يكون للكلمات التالية المعنى المبين قرينَ كُلٍّ منها، ما لم يقتضِ السياقُ خلاف ذلك:
2.1. "المنصّة": يُقصد بها منصة "شاهين بلس" عبر الموقع الإلكتروني متخصصة في عرض وتسويق الفرص والعقارات وربط الأطراف دون أن تكون طرفًا في أي تعاقد.
2.2. "نحن"، "لنا" أو "لدينا": يُقصد بها مؤسسة شاهين بلس للتسويق الإلكتروني.
2.3. "المُستخدِم"، أو "أنت" أو "لك": يُقصد به كل من يستخدم المنصة لأغراض العرض أو البحث أو التواصل أو الإعلان، سواء كان مستخدمًا عاديًا، أو مالك عقار، أو وكيلًا شرعيًا، أو منشأة تجارية، أو شركة مزادات عقارية، أو وسيطًا عقاريًا مرخّصًا، أو ممثلًا مفوضًا عن أيٍ منهم.
2.4. "البيانات الشخصيّة": يُقصد بها كل بيان -مهما كان مصدره أو شكله- من شأنه أن يؤدي إلى معرفة الفرد على وجه التحديد، أو يجعل التعرّف عليه ممكنًا بصفة مباشرة أو غير مباشرة، ومن ذلك الاسم، ورقم الهويّة الشخصيّة، والعناوين، وأرقام التواصل، وغير ذلك من البيانات ذات الطابع الشخصي.
2.5. "المُعالجة": يُقصد بها أيّ عملية تُجرى على البيانات الشخصيّة بأيّ وسيلة كانت يدوية أو آلية.
2.6. "الغرض المشروع": يُقصد به الغرض الذي تتم لأجله معالجة البيانات الشخصيّة للفرد طبقًا للقانون.
2.7. "الأطراف الثالثة": يُقصد بها الجهات المستقلة التي لا تخضع لإدارة أو سيطرة المنصة.
2.8. "السياسة": يُقصد بها سياسة الخصوصيّة هذه.
2.9. "القوانين": يُقصد بها الأنظمة واللوائح ذات العلاقة المعمول بها في المملكة العربيّة السعوديّة.`,

    3: `3.1. تنطبق هذه السياسة على جميع البيانات الشخصية التي يقدمها المستخدمون لمنصة "شاهين بلس"، سواء عبر الموقع الإلكتروني، أو حسابات المنصة الرسمية على شبكات التواصل الاجتماعي، أو من خلال أي من الخدمات الإلكترونية التي تقدمها المنصة (ويشار إليها مجتمعة بـ "الخدمات")، وذلك وفقًا لطبيعة عمل المنصة كوسيط إلكتروني لعرض وربط الخدمات العقارية.
3.2. تنطبق هذه السياسة على جميع مستخدمي منصة "شاهين بلس"، بما في ذلك – على سبيل المثال لا الحصر – ما يلي:
3.2.1. مالكو العقارات، أو الوكلاء الشرعيون، أو الوسطاء العقاريون المرخّصون، أو المنشآت التجارية، أو شركات المزادات العقارية الذين يعرضون العقارات أو الخدمات العقارية عبر المنصة.
3.2.2. طالبو الخدمات العقارية أو المهتمون بالعقارات المعروضة عبر المنصة.
3.2.3. الأشخاص الذين يستخدمون المنصة أو يتواصلون معنا أو يبدون اهتمامًا بخدمات المنصة بأي وسيلة كانت.
3.3. لا تنطبق هذه السياسة على أي معلومات أو بيانات يتم جمعها أو معالجتها من خلال مواقع أو منصات أو تطبيقات إلكترونية مملوكة أو مُدارة من قبل أطراف ثالثة، حتى وإن تم الوصول إليها عبر منصة "شاهين بلس". ولا تتحمل المنصة أي مسؤولية عن سياسات الخصوصية أو ممارسات حماية البيانات أو المحتوى الخاص بتلك الجهات الخارجية.`,

    4: `4.1. نقوم بجمع البيانات الشخصية التي يقدمها لنا المستخدم عند استخدامه لخدمات منصة "شاهين بلس"، أو عند تسجيل الحساب، أو نشر الإعلانات، أو التواصل معنا، وذلك على سبيل المثال لا الحصر كما يلي:
4.1.1. بيانات الحساب: مثل الاسم الكامل، والبريد الإلكتروني، ورقم الجوال، ونوع الحساب، وأي بيانات تعريفية أخرى.
4.1.2. بيانات تسجيل الدخول: مثل اسم المستخدم وكلمة المرور.
4.1.3. بيانات المعلنين والجهات العقارية: مثل بيانات مالك العقار، أو الوكيل الشرعي، أو الوسيط العقاري المرخّص، أو المنشأة التجارية، أو شركة المزادات العقارية، بما في ذلك – عند الاقتضاء – بيانات الهوية، أو الوكالة الشرعية، أو السجل التجاري، أو التراخيص النظامية، ووسائل التواصل الرسمية، ومعلومات الملف التعريفي المرتبط بالنشاط العقاري.
4.1.4. بيانات طالبي الخدمة: مثل الاسم، والبريد الإلكتروني، ورقم الجوال، ومعلومات الملف الشخصي، وأي بيانات لازمة للتواصل أو تقديم الخدمة.
4.1.5. بيانات الطلبات: مثل الاسم، رقم الهوية، رقم الصك، المنطقة، المدينة، الغرض من التسويق، نوع الأرض، المساحة، الوصف التفصيلي، والمرفقات.
4.1.6. بيانات التواصل: مثل سبب التواصل، الاسم الكامل، البريد الإلكتروني، رقم الجوال، نص الرسالة، والمرفقات.
4.1.7. بيانات السجل والاستخدام: مثل البيانات التقنية والتشغيلية المتعلقة باستخدام الموقع الإلكتروني، والتي تقوم خوادمنا بجمعها تلقائيًا وتسجيلها في ملفات السجل عند دخولك إلى الموقع الإلكتروني. وبحسب طريقة تفاعلك معنا، قد تتضمن بيانات السجل هذه عنوان بروتوكول الإنترنت الخاص بك (IP) ومعلومات الجهاز المستخدم ونوع المتصفح والإعدادات والمعلومات المتعلقة بنشاطك فيما يتعلق بالموقع الإلكتروني (مثل تاريخ ووقت الاستخدام، والصفحات التي تمت زيارتها، وعمليات البحث، والميزات التي تستخدمها)، ومعلومات أحداث الجهاز (مثل نشاط النظام، وتقارير الأخطاء (ويطلق عليها في بعض الأحيان ("تفريغ الأعطال") وإعدادات الأجهزة.
4.1.8. بيانات من مصادر أخرى: مثل البيانات التي تقدمها لنا عند ملء النماذج المتوفرة على المنصة، أو عند إضافة الملاحظات أو الآراء أو التقييمات أو التعليقات، أو عندما تتفاعل معنا عبر منصات التواصل الاجتماعي، حيث نقوم بجمع المعلومات المرتبطة بتلك التفاعلات.
4.2. يلتزم المستخدم بتقديم بيانات صحيحة وكاملة ودقيقة، ويتحمل المسؤولية الكاملة عن الحفاظ على سرية بيانات حسابه وعدم مشاركتها مع أي طرف آخر، ويُعد مسؤولًا عن أي استخدام يتم من خلال حسابه.`,

    5: `نستخدم معلوماتك الشخصية على أساس قانوني مشروع وعندما يسمح لنا القانون بذلك، وبشكل عام للأغراض الآتية:
5.1. لتمكين المستخدم من إنشاء الحساب واستخدام خدمات المنصة وتنظيم التواصل بين الأطراف ذات العلاقة.
5.2. لربط المستخدمين ببعضهم تقنيًا.
5.3. للتواصل معك، والرد على استفساراتك وتعليقاتك وطلباتك.
5.4. لاكتشاف ومنع إساءة الاستخدام وحماية المنصة والمستخدمين.
5.5. لتزويدك بمحتوى مخصص، وتحسين وتطوير تجربتك في المنصة، وتقديم الميزات والتحسينات الفنية والتشغيلية.
5.6. لقياس أو فهم مدى فاعلية الإعلانات التي نقدمها لك أو للآخرين، ولتقديم إعلانات ملائمة لاهتماماتك.
5.7. لإبلاغك بالعروض الترويجية التي نعتقد أنها قد تهمك، والرسائل الإدارية، وتنبيهات الأمان، وتحديثات شروط الاستخدام وسياسة الخصوصية، عبر وسائل التواصل المتاحة بما في ذلك البريد الإلكتروني.
5.8. لتحقيق المصالح المشروعة للمنصة، بوصفها مشغّلًا تقنيًا وليس وسيطًا تعاقديًا.
5.9. لإنفاذ شروط الاستخدام وسياسة الخصوصية وأي سياسات أو خدمات أخرى ذات صلة.
5.10. للامتثال للمتطلبات والأوامر القانونية أو التنظيمية، أو تنفيذًا لأمر قضائي أو طلب صادر عن جهة حكومية مختصة بالإفصاح عن البيانات.
5.11. لأغراض التسويق والترويج والإعلان، وإجراء أبحاث السوق والاستبيانات، وذلك في الحدود التي تسمح بها الأنظمة وبناءً على موافقتك المسبقة متى ما تطلب النظام ذلك.`,

    6: `يجوز لنا مشاركة البيانات الشخصية استنادّا إلى الأساس القانوني المعتمد بموجب الأنظمة السارية، وذلك على النحو التالي:
6.1. الموافقة: حصولنا على موافقة صريحة ومسبقة من صاحب البيانات لاستخدام بياناته لغرض محدد وواضح.
6.2. أداء العقد: عندما تكون مشاركة البيانات ضرورية للوفاء بالتزاماتنا التعاقدية تجاهك أو لتنفيذ الخدمات المطلوبة.
6.3. الالتزامات القانونية: تنفيذاً لأمر صادر من الجهات الحكومية أو القضائية المختصة أو سلطات إنفاذ القانون، وفقًا لما يقتضيه القانون، وبما يتعلق بأي إجراءات قانونية فعلية أو محتملة.
6.4. المصالح المشروعة: لتحقيق مصالحنا المشروعة، وحماية حقوقنا وخصوصيتنا وسلامتنا وممتلكاتنا و/أو حقوقك أو الآخرين.
6.5. مقدمو الخدمات وشركاؤنا: الجهات التي تقدم خدمات أو وظائف نيابةً عنا، مثل استضافة المواقع، وتحليل البيانات، والبنية التحتية لتقنية المعلومات، وخدمات الدفع، وخدمة العملاء، وتسليم الرسائل الإلكترونية، واكتشاف الاحتيال، ومراقبة الأمان، وذلك في حدود ما يلزم لتشغيل المنصة تقنيًا وتنظيميًا فقط، وبما لا يؤدي إلى استخدام البيانات لأغراض مستقلة عن خدمات المنصة.
6.6. مقدمو خدمات الإعلان والتسويق: لتقديم عروض أو أنشطة ترويجية مشتركة، وتطوير حملات تسويقية مخصصة، على أن يتم ذلك وفقًا للقانون وبما لا يخالف موافقتك المسبقة.
6.7. نقل الأعمال: في حالة قيام مؤسسة شاهين بلس للتسويق الإلكتروني ببيع جزء من الأعمال أو الأصول، أو الدخول في عملية اندماج أو استحواذ أو إعادة هيكلة أو إفلاس أو أي تصرف قانوني آخر، قد يتم نقل بياناتك كجزء من تلك المعاملة، على أن يلتزم الكيان الجديد بذات مستوى الحماية المنصوص عليه في هذه السياسة.`,

    7: `7.1. نحتفظ بالبيانات الشخصية للمدة اللازمة فقط لتحقيق الأغراض المحددة في هذه السياسة ما لم يتطلب القانون أو يسمح بمدة أطول للاحتفاظ بها (مثل المتطلبات الضريبية أو المحاسبية أو القانونية الأخرى)، وفي حال لم نعد بحاجة إلى معالجة بياناتك الشخصية لأغراض تجارية مشروعة، فسنقوم إما بحذفها أو إخفائها، وإذا لم يكن ذلك ممكنًا (على سبيل المثال تخزين معلوماتك في أرشيفات النسخ الاحتياطي)، فإننا سنخزن معلوماتك الشخصية وسنعزلها بشكل آمن يمنعها عن أي معالجة أخرى إلى حين إمكانية حذفها.
7.2. نؤكد أنه لا يتم مشاركة بياناتك الشخصية مع أي طرف ثالث لأغراض مستقلة عن خدمات المنصة دون الحصول على موافقتك المسبقة، ما لم يكن ذلك مطلوبًا أو مسموحًا به بموجب القانون، أو عند استخدامها بصيغة بيانات مجمّعة لا تسمح بتحديد الهوية.
7.3. قد يتم الاحتفاظ بنسخ احتياطية مشفرة لقاعدة البيانات لدى مزودي خدمات تخزين خارجيين، وذلك لأغراض أمن المعلومات في حالة الطوارئ أو الكوارث.`,

    8: `8.1. نلتزم بحماية البيانات الشخصية من خلال اتخاذ مجموعة من الإجراءات الأمنية والتدابير الفنية والإدارية المناسبة، وذلك للمساعدة في الحفاظ على أمن وسلامة المعلومات وحمايتها من الفقدان أو التلف أو التعديل، أو الإفشاء أو الوصول غير المصرح به أو أي استخدام غير مشروع، ويشمل ذلك –على سبيل المثال لا الحصر – ما يلي:
8.1.1. إجراء فحص دوري ومنتظم لموقعنا الإلكتروني وأنظمتنا التقنية للكشف عن الثغرات الأمنية ونقاط الضعف المعروفة، بهدف جعل زيارتك لموقعنا آمنة قدر الإمكان.
8.1.2. إجراء فحص منتظم لاكتشاف البرمجيات الضارة والتهديدات الإلكترونية.
8.1.3. تخزين معلوماتك الشخصية ضمن شبكات آمنة، ولا يمكن الوصول إليها إلا من قبل عدد محدود من الأشخاص المخولين الذين يتمتعون بصلاحيات وصول خاصة، والملزمين بالحفاظ على سرية هذه المعلومات. كما يتم تشفير جميع المعلومات الحساسة أو الائتمانية التي تقدمها باستخدام تقنية طبقة المقابس الآمنة (SSL).
8.1.4. تطبيق مجموعة متنوعة من التدابير الأمنية عند قيام المستخدم بإدخال معلوماته أو إرسالها أو الوصول إليها، بما يتناسب مع طبيعة البيانات ومخاطر معالجتها.
8.1.5. معالجة جميع المعاملات المالية من خلال مزودي بوابات دفع معتمدين، ولا يتم تخزين أو معالجة أي بيانات دفع أو بطاقات ائتمانية على خوادمنا.
8.2. وعلى الرغم من اتخاذنا لجميع التدابير المعقولة لحماية بياناتك الشخصية، إلا أن نقل البيانات عبر شبكة الإنترنت ينطوي بطبيعته على بعض المخاطر، وبالتالي لا يمكننا ضمان أمن أي بيانات يتم إرسالها عبر الإنترنت، ولا نتحمل المسؤولية إلا في حدود ما تقرره الأنظمة المعمول بها في المملكة العربية السعودية.
تحديث معلومات حسابك
8.3. يمكنك مراجعة بياناتك الشخصية أو تحديثها أو استكمالها أو تعديلها من خلال الدخول إلى تبويب "حسابي" بعد تسجيل الدخول إلى حسابك على المنصة.
8.4. عند طلب تحديث بياناتك، قد نطلب منك التحقق من بيانات إثبات الهوية قبل اتخاذ أي إجراء بناءً على طلبك. وفي حال واجهتك أي صعوبات في إدارة حسابك، يرجى التواصل مع فريق دعم "شاهين بلس".`,

    9: `9.1. يتحمل المستخدم المسؤولية الكاملة عن الحفاظ على سرية بيانات حسابه في منصة "شاهين بلس"، بما في ذلك اسم المستخدم وكلمة المرور وأي معلومات أخرى متعلقة بالدخول إلى الحساب، ويتحمل وحده المسؤولية عن جميع الأنشطة أو المعاملات التي تتم من خلال حسابه، سواء تمت بعلمه أو دون علمه.
9.2. تُخلي منصة "شاهين بلس" مسؤوليتها عن أي أضرار ناتجة عن تعاملات أو اتفاقات تتم بين المستخدمين خارج نطاقها التقني، حيث يقتصر دور المنصة على عرض المحتوى وتنظيم الربط والتواصل فقط.
9.3. لا تتحمل المنصة مسؤولية أي كشف ناتج عن اختراقات خارجة عن السيطرة المعقولة أو أفعال غير مشروعة من أطراف ثالثة.`,

    10: `10.1. يكون للمُستخدِم وفقًا لنظام حماية البيانات الشخصيّة – الحقوق التالية:
10.1.1. الحق في العلم بالمسوّغ النظامي أو العملي لجمع البيانات الشخصيّة والغرض من ذلك.
10.1.2. الحق في الوصول إلى بياناته الشخصيّة، والحصول على نُسخة منها بصيغة واضحة دون مقابل مادي.
10.1.3. الحق في طلب تصحيح بياناته الشخصيّة، أو إكمالها، أو تحديثها.
10.1.4. الحق في طلب إتلاف أو حذف بياناته الشخصيّة إذا انتهت الحاجة إليها.
10.1.5. الحق في الاعتراض على معالجة بياناته الشخصيّة بما في ذلك المعالجة المتعلقة بالتسويق المباشر.
10.1.6. الحق في تقديم شكوى في أي وقت عن طريق البريد الإلكتروني.
10.2. جميع هذه الحقوق كفلها نظام حماية البيانات الشخصيّة والصادر بالمرسوم الملكي رقم (م/19) وتاريخ 9/2/1443هـ حيث تخضع هذه الحقوق لاستثناءات وإعفاءات يحددها النظام بما يتوافق مع المراسم الملكية والأنظمة الصادرة من الجهات القضائية بالمملكة العربية السعودية.`,

    11: `11.1. يتحمل المُستخدِم مسؤولية دقة وصحة البيانات التي يُقدمها على منصّة "شاهين بلس"، ومسؤولية الحفاظ على سريتها، وعدم مشاركتها أو الإفصاح عنها لأي طرف ثالث.
11.2. يوافق المُستخدِم على أنّنا لا نسيطر إلا على البيانات التي نجمعها في منصّة "شاهين بلس"، ولا نملك أيّ سيطرة على أيّ بيانات يقدمُها المُستخدِم على موقع آخر.
11.3. يوافق المُستخدِم على إخلاء مسؤولية منصّة "شاهين بلس" في حالة فشله او تقصيره في الحفاظ على سرية بياناته أو أيّ تصرفات ينتج عنها الوصول إلى البيانات من قبل أطراف أخرى.`,

    12: `12.1. ملفات تعريف الارتباط هي ملفات صغيرة تتضمن معرفاً فريداً، يتم إرسالها إلى جهازك الكمبيوتر أو المحمول أو اللوحي ("الجهاز") بواسطة خادم الويب والتي تمكن أنظمة الموقع أو مزود الخدمة من التعرف على متصفحك والتقاط وتذكر معلومات معينة.
12.2. نستخدم ملفات تعريف الارتباط لمساعدتنا على تذكُّر ومعالجة العناصر الموجودة في عربة التسوق الخاصة بك. كما أنها تُستخدم أيضاً لمساعدتنا على فهم تفضيلاتك بناءً على نشاطك السابق أو الحالي على الموقع، مما يمكننا من تزويدك بخدمات محسنة. كما أننا نستخدم ملفات تعريف الارتباط لمساعدتنا في تجميع بيانات مجمعة حول حركة المرور على الموقع والتفاعل مع الموقع حتى نتمكن من تقديم تجارب وأدوات أفضل للموقع في المستقبل.
12.3. الغرض الأساسي من استخدام ملفات الكوكيز:
12.3.1. السماح بتقديم تجربة سلسة وفعّالة ومخصصة من أجلك.
12.3.2. تتبع وتحليل زيارات واتجاهات الزوار.
12.3.3. المساعدة في تذكر ومعالجة العناصر الموجودة في عربة التسوق.
12.3.4. فهم وحفظ تفضيلات المستخدم للزيارات المستقبلية.
12.3.5. تحسين وتعزيز المحتوى والإعلانات التي نعرضها للمستخدم.
12.4. قد يقوم مزودو خدمات الجهات الخارجية والمعلنون والشركاء أيضًا بوضع تقنيات مماثلة على موقع الويب، ويخضع استخدام هذه التقنيات من قبل هذه الجهات الخارجية لسياسات الخصوصية الخاصة بها ولا تغطيها هذه السياسة، باستثناء ما يتطلب القانون.
12.5. قد تمنحك بعض متصفحات الويب القدرة على تمكين ميزة "عدم التتبع" التي ترسل إشارات إلى المواقع التي تزورها، مما يشير إلى عدم رغبتك في تتبع أنشطتك عبر الإنترنت. يختلف هذا عن حظر أو حذف ملفات تعريف الارتباط، حيث إن المتصفحات التي تم تمكين هذه الميزة بها قد تظل تقبل ملفات تعريف الارتباط.
12.6. يمكنك اختيار أن يقوم جهاز الكمبيوتر الخاص بك بتحذيرك في كل مرة يتم فيها إرسال ملف تعريف ارتباط، أو يمكنك اختيار إيقاف تشغيل جميع ملفات تعريف الارتباط. يمكنك القيام بذلك من خلال إعدادات المتصفح الخاص بك. نظراً لاختلاف المتصفح قليلاً، انظر إلى قائمة المساعدة في متصفحك لمعرفة الطريقة الصحيحة لتعديل ملفات تعريف الارتباط. إذا قمت بإيقاف تشغيل ملفات تعريف الارتباط، فلن يؤثر ذلك على تجربة المستخدم.`,

    13: `قد تتلقى إشعارات منا على البريد الإلكتروني المسجل لدينا إذا قمت بالاشتراك في الرسائل الإخبارية. إذا كنت ترغب في عدم تلقي مثل هذه الاتصالات، فيمكنك إلغاء الاشتراك باتباع الإرشادات المضمنة في الإشعار أو البريد الإلكتروني. ومع ذلك، حتى إذا قمت بإلغاء الاشتراك في تلقي هذه الاتصالات، فإننا نحتفظ بالحق في إرسال رسائل غير تسويقية إليك مثل الرسائل الإدارية، وتنبيهات الأمان، وتحديثات شروط الاستخدام أو سياسة الخصوصية الخاصة بالمنصّة.`,

    14: `14.1. قد تُجري منصة "شاهين بلس" تعديلات على سياسة الخصوصية هذه من وقت لآخر دون إشعار مسبق؛ وسيتم نشر أي تغييرات قد نجريها على هذه السياسة في المستقبل عند الاقتضاء. إن استمرارك في استخدام الخدمات التي تقدمها منصة "شاهين بلس" أو التعامل معها بعد نشر التغييرات التي أجريناها على هذه السياسة يعتبر بمثابة موافقة على إشعار الخصوصية المعدّل.
14.2. تسري أي تغييرات على هذه السياسة عند نشرها على هذه الصفحة أو عند إخطارك بها، وتقع على عاتقك مسؤولية قراءة هذه السياسة في كل مرة تقوم فيها بزيارة أو الحصول على خدمات المنصة أو عند تعاملك معنا بطريقة أخرى؛ ويُعد استمرار استخدامك للمنصة أو تفاعلك معها بمثابة قبول منك على الالتزام بالسياسة الحالية أو المستقبلية من السياسة كما تطبقها منصة "شاهين بلس".`,

    15: `15.1. أنت تقر بأنك قد قرأت هذه السياسة وتوافق على الالتزام بكل ما ورد فيها.
15.2. أنت تقر بأنه قد اتيح لك خيار للاطلاع على سياسة الخصوصيّة وأنك قد أطلعت عليها وتوافق على كل بنودها.
15.3. أنت تقر وتوافق بأن المنصة لا تتحمل أي مسؤولية عن أي اختراق أو كشف للبيانات ناتج عن قوة قاهرة أو هجمات إلكترونية أو تصرفات غير مشروعة من أطراف ثالثة، وذلك في حدود ما تقرره الأنظمة المعمول بها.
15.4. الية العمل : نعمل من خلال المنصة على الجمع بين الأطراف المستخدمين ( المستخدم ) المعلن والراغب بالتواصل مع منشأ الإعلان سواء بقصد البيع او الاستثمار او الشراء وغيرها وكذلك الجمع مابين الراغب بتسويق عقاره وبيعه مع او عبر شركات المزادات و المنشات المختصة بالمزاد او غيرها من الخدمات حيث نقوم بالجمع بين الطرفين بطريقة مباشرة او غير مباشرة عبر الوسائل المتاحة من الاتصالات الهاتفية والمرئية او الحضورية او عبر البرامج التقنية او غيرها ويتم ارسال نموذج الالتزام بالعمولة للطرف طالب الخدمة في الأصل او ما يتم الاتفاق عليه لاحقا قبل او اثناء او بعد الاجتماع ويعد هذا النموذج الزاما بدفع العمولة ويحفظ عمولة المنصة على ان يتم تحديد العمولة في النموذج والاصل ان العمولة هي 2.5% ويحق لنا رفع او تخفيض العمولة حيث يتم التحديد لاحقا مع كل اجتماع .
15.5. الأصل ان عمولة المنصة محفوظة وهي 2.5% من قيمة البيع او الاستثمار او التسويق او أي خدمة تقدمها المنصة ويتعهد المستخدم بحفظ العمولة ودفعها مباشرة دون تأخير سواء بنموذج او بغير نموذج`,

    16: `إذا كانت لديك أي أسئلة أو استفسارات بخصوص سياسة الخصوصية هذه، الرجاء التواصل معنا عبر:
 البريد الإلكتروني: info@shaheenplus.sa.
 رقـــــــــــم الجــــــــــــــــوال: 00966566065406.
جميع الحقوق محفوظة لمنصة "شاهين بلس" | مؤسسة شاهين بلس للتسويق الإلكتروني © 2026`
  };

  const currentSection = useMemo(() => sections.find(s => s.id === activeSection), [activeSection]);

  const filteredSections = useMemo(() => {
    return sections.filter(s => s.title.toLowerCase().includes(searchQuery.toLowerCase()));
  }, [searchQuery]);

  const scrollToTop = () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  const handleSectionChange = (id) => {
    setActiveSection(id);
    setIsSidebarOpen(false);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  const progress = (activeSection / sections.length) * 100;

  return (
    <div className="min-h-screen bg-slate-50 font-sans text-slate-900 rtl selection:bg-blue-100 selection:text-blue-700 pt-20" dir="rtl">      
      {/* شريط التقدم العلوي */}
      <div className="fixed top-0 left-0 w-full h-1 z-50 bg-slate-100">
        <motion.div 
          className="h-full bg-blue-600 shadow-sm"
          initial={{ width: 0 }}
          animate={{ width: `${progress}%` }}
          transition={{ duration: 0.3 }}
        />
      </div>

      <main className="max-w-7xl mx-auto px-4 py-6 md:py-12 flex flex-col lg:flex-row gap-8">
        
        {/* زر فتح القائمة للجوال */}
        <div className="lg:hidden sticky top-4 z-30 flex justify-between items-center bg-white p-4 rounded-2xl shadow-sm border border-slate-200">
          <div className="flex items-center gap-2">
            <div className="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center text-white">
              <ShieldCheck className="w-5 h-5" />
            </div>
            <span className="font-bold text-slate-800">سياسة الخصوصية</span>
          </div>
          <button 
            onClick={() => setIsSidebarOpen(true)}
            className="p-2 bg-slate-50 hover:bg-slate-100 rounded-xl transition-colors text-slate-600"
          >
            <Menu className="w-6 h-6" />
          </button>
        </div>

        {/* القائمة الجانبية (Sidebar) */}
        <aside className={`
          fixed inset-0 z-50 lg:relative lg:z-0 lg:block lg:w-80
          ${isSidebarOpen ? 'block' : 'hidden'}
        `}>
          <div className="absolute inset-0 bg-slate-900/40 backdrop-blur-sm lg:hidden" onClick={() => setIsSidebarOpen(false)} />
          
          <nav className="relative h-full lg:h-auto bg-white lg:bg-transparent w-80 lg:w-full overflow-hidden flex flex-col border-l lg:border-0 shadow-2xl lg:shadow-none">
            <div className="p-6 border-b border-slate-100 lg:hidden flex justify-between items-center bg-slate-50">
              <h3 className="font-bold text-slate-800">فهرس الأقسام</h3>
              <button onClick={() => setIsSidebarOpen(false)} className="p-2 hover:bg-white rounded-full transition-colors">
                <X className="w-5 h-5 text-slate-500" />
              </button>
            </div>

            <div className="p-4 lg:p-0 flex-1 overflow-y-auto lg:sticky lg:top-12">
              <div className="relative mb-6 hidden lg:block">
                <Search className="absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400" />
                <input 
                  type="text"
                  placeholder="بحث في الأقسام..."
                  className="w-full pr-10 pl-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                />
              </div>

              <div className="space-y-1">
                {filteredSections.map((section) => (
                  <button
                    key={section.id}
                    onClick={() => handleSectionChange(section.id)}
                    className={`
                      w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-right transition-all duration-200 group
                      ${activeSection === section.id 
                        ? 'bg-blue-600 text-white shadow-lg shadow-blue-200 translate-x-1' 
                        : 'text-slate-600 hover:bg-white hover:shadow-sm hover:text-blue-600'}
                    `}
                  >
                    <span className={`
                      flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center transition-colors
                      ${activeSection === section.id ? 'bg-blue-500/50 text-white' : 'bg-slate-100 text-slate-400 group-hover:bg-blue-50 group-hover:text-blue-500'}
                    `}>
                      {section.icon}
                    </span>
                    <span className="text-sm font-semibold truncate">{section.title}</span>
                  </button>
                ))}
              </div>
            </div>
          </nav>
        </aside>

        {/* منطقة المحتوى */}
        <section className="flex-1 min-w-0">
          <div className="mb-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-3xl p-8 text-white shadow-xl shadow-blue-100 relative overflow-hidden">
             <div className="relative z-10">
                <div className="flex items-center gap-3 mb-4">
                   <div className="p-2 bg-white/20 backdrop-blur-md rounded-lg">
                      <ShieldCheck className="w-5 h-5 text-white" />
                   </div>
                   <span className="text-blue-100 font-medium tracking-wide">حماية البيانات والخصوصية</span>
                </div>
                <h1 className="text-3xl md:text-4xl font-black mb-2">سياسة الخصوصية</h1>
                <p className="text-blue-100/80 max-w-xl leading-relaxed">
                  مرحباً بكم في منصة "شاهين بلس". نلتزم بحماية بياناتكم الشخصية وفقاً للأنظمة المعمول بها في المملكة العربية السعودية.
                </p>
             </div>
             <Database className="absolute -bottom-6 -left-6 w-48 h-48 text-white/5 rotate-12" />
          </div>

          <AnimatePresence mode="wait">
            <motion.div
              key={activeSection}
              initial={{ opacity: 0, x: 20 }}
              animate={{ opacity: 1, x: 0 }}
              exit={{ opacity: 0, x: -20 }}
              transition={{ duration: 0.3 }}
              className="bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden"
            >
              <div className="p-6 md:p-8 border-b border-slate-100 bg-white flex flex-col md:flex-row md:items-center justify-between gap-4">
                <div className="flex items-center gap-4">
                  <div className="w-14 h-14 bg-blue-50 rounded-2xl flex items-center justify-center text-blue-600">
                    {currentSection?.icon}
                  </div>
                  <div>
                    <span className="text-xs font-bold text-blue-600 uppercase tracking-widest bg-blue-50 px-2 py-1 rounded-md mb-1 inline-block">
                      القسم رقم {activeSection}
                    </span>
                    <h2 className="text-2xl font-bold text-slate-900">
                      {currentSection?.title}
                    </h2>
                  </div>
                </div>
              </div>

              <div className="p-6 md:p-10">
                <div className="prose prose-slate prose-lg max-w-none">
                  {sectionContent[activeSection].split('\n').map((line, i) => {
                    const isSubPoint = line.trim().match(/^\d+\.\d+\.\d+\./) || line.trim().startsWith('') || line.trim().startsWith('');
                    const isSubHeader = line.trim() === "تحديث معلومات حسابك";
                    
                    if (!line.trim()) return null;

                    return (
                      <motion.p 
                        initial={{ opacity: 0, y: 10 }}
                        animate={{ opacity: 1, y: 0 }}
                        transition={{ delay: i * 0.05 }}
                        key={i} 
                        className={`
                          leading-loose text-slate-700 text-justify
                          ${isSubPoint 
                            ? 'mr-4 md:mr-8 my-4 text-slate-600 bg-slate-50/80 p-5 rounded-2xl border-r-4 border-blue-500 shadow-sm' 
                            : isSubHeader 
                            ? 'text-xl font-bold text-blue-700 mt-8 mb-4'
                            : 'mb-6 text-lg font-medium'}
                        `}
                      >
                        {line}
                      </motion.p>
                    );
                  })}
                </div>

                <div className="mt-12 pt-8 border-t border-slate-100 flex flex-col sm:flex-row items-center justify-between gap-4">
                  <button
                    disabled={activeSection === 1}
                    onClick={() => handleSectionChange(activeSection - 1)}
                    className="w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-4 rounded-2xl font-bold transition-all
                      disabled:opacity-30 disabled:cursor-not-allowed
                      bg-slate-100 text-slate-600 hover:bg-slate-200 active:scale-95"
                  >
                    <ChevronRight className="w-5 h-5" />
                    القسم السابق
                  </button>

                  <div className="hidden sm:flex items-center gap-1 text-slate-400 font-medium">
                    <span className="text-blue-600">{activeSection}</span>
                    <span>/</span>
                    <span>{sections.length}</span>
                  </div>

                  <button
                    disabled={activeSection === sections.length}
                    onClick={() => handleSectionChange(activeSection + 1)}
                    className="w-full sm:w-auto flex items-center justify-center gap-2 px-8 py-4 rounded-2xl font-bold transition-all
                      disabled:opacity-30 disabled:cursor-not-allowed
                      bg-blue-600 text-white hover:bg-blue-700 shadow-xl shadow-blue-100 active:scale-95"
                  >
                    القسم التالي
                    <ChevronLeft className="w-5 h-5" />
                  </button>
                </div>
              </div>
            </motion.div>
          </AnimatePresence>

          <footer className="mt-12 text-center pb-12">
            <div className="flex flex-col items-center gap-4">
              <div className="w-12 h-1 bg-slate-200 rounded-full" />
              <p className="text-slate-500 text-sm leading-relaxed max-w-md">
                تاريخ السريان: يناير 2026. تلتزم مؤسسة شاهين بلس للتسويق الإلكتروني بكافة معايير حماية البيانات الشخصية.
              </p>
              <p className="text-slate-400 text-xs font-medium">
                جميع الحقوق محفوظة لمنصة "شاهين بلس" © 2026
              </p>
            </div>
          </footer>
        </section>
      </main>

      <AnimatePresence>
        {showScrollTop && (
          <motion.button
            initial={{ opacity: 0, scale: 0.5 }}
            animate={{ opacity: 1, scale: 1 }}
            exit={{ opacity: 0, scale: 0.5 }}
            onClick={scrollToTop}
            className="fixed bottom-6 left-6 p-4 bg-white text-blue-600 rounded-2xl shadow-2xl border border-slate-100 z-50 hover:bg-blue-600 hover:text-white transition-all active:scale-90"
          >
            <ArrowUp className="w-6 h-6" />
          </motion.button>
        )}
      </AnimatePresence>

      <style dangerouslySetInnerHTML={{ __html: `
        @import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;600;700;900&display=swap');
        body {
          font-family: 'Noto Kufi Arabic', sans-serif;
        }
        ::-webkit-scrollbar {
          width: 6px;
        }
        ::-webkit-scrollbar-track {
          background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
      `}} />
    </div>
  );
};

export default PrivacyPolicy;